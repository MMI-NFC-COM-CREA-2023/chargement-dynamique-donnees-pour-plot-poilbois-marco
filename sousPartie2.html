<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sous partie 2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 id="page2">Sous partie 2</h1>
    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Perspiciatis voluptas, explicabo magnam quasi facere quibusdam dolorem minus quidem non ratione molestias minima fugit, quos reiciendis fugiat unde maiores aperiam eum.</p>
    <figure>
        <div id="contenu2"></div>
        <figcaption>
            Lorem ipsum dolor sit amet, consectetur adipisicing.
        </figcaption>
    </figure>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
    <script>
        async function faitAsync() {
            const dataresponse = await fetch("./data.json");
            const data = await dataresponse.json();
            const plot = Plot.plot(
                {
                    title: "Gagnants des grands chelem entre 1967 et 2022",
                    subtitle: "Découvrez les légendes du grand chelem au fil des décénies",
                    marginLeft: 150,
                    x: { grid: true, label: "Années" },
                    y: { label: "Gangnants" },
                    color: { legend: true },
                    marks: [
                      Plot.dot(data, { x: "YEAR", y: "WINNER", stroke: "WINNER", tip: true })
                    ]
                });
                const div = document.getElementById("contenu2");
                div.append(plot);
        }
        faitAsync();
    </script>
</body>
</html>